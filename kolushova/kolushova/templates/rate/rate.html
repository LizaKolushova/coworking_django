{% extends "base.html" %}
{% block title %} {{place.title}}{% endblock %}
{% block stylesheet %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
{% endblock %} 
{% block content %}
<section class="section-rate">
    <div class="container section-rate__container">
        <h1 class="section-rate__title"> {{place.title}}</h1>
        <div class="row g-2">
        {% if rates_list %}
            {% for a in rates_list %}
                {% if a.place_id == place.id %}
                    <div class="col-sm p-3 d-flex align-items-stretch">
                        <div class="card" style="width: 25rem;">
                            <img class="card-img-top" src="{{a.photo}}" alt="{{a.title}}">
                            <div class="card-body">
                                <p class="card-title">{{a.title}}</p>
                                <p class="card-subtitle mb-2 text-muted">Свободные места {{a.capacity}}</p>
                                {% if a.price_hour > -1  %}
                                    <p class="card-text">Стоимость {{a.price_hour}} руб/час</p>
                                {% endif %}
                                {% if a.price_week > -1%}
                                    <p class="card-text">Стоимость {{a.price_week}} руб/неделя</p>
                                {% endif %}
                                {% if a.price_month > -1%}
                                    <p class="card-text">Стоимость {{a.price_month}} руб/месяц</p>
                                {% endif %}
                            </div>
                            <div class='card-footer'>
                                <button type="button"
                                            class="btn text-white btn-block btn-lg gradient-custom-4" data-bs-toggle="modal" data-bs-target="#exampleMore" style="background: #1EA59A;">Подробнее</button>
                                <button type="button" class="btn btn-lg btn-block text-white" data-bs-toggle="modal" data-bs-target="#exampleModal" style="background: #FE753E;">
                                    Забронировать
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="modal fade" id="exampleMore" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h2 class="modal-title" id="exampleMoreLabel">{{a.title}}</h2>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body ">
                                    <p class="modal-title ">{{a.description}}</p>   
                                </div>
                                <div class="modal-footer mb-2">
                                    <button type="button" class="btn btn-lg btn-block text-white" data-bs-toggle="modal" data-bs-target="#exampleModal" style="background: #1EA59A;">
                                        Забронировать
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h2 class="modal-title" id="exampleModalLabel">Бронированиe</h2>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form class="needs-validation" id="sendForm" novalidate>
                                        <div class="mb-3">
                                            <label for="validationName" class="form-label">Дата бронирования</label>
                                            <input class="form-control" type='date' id="validationName" placeholder="Введите дату бронирования"
                                                name="TeacherName" required />
                                            <div class="invalid-feedback">
                                                Введите дату бронирования, пожалуйста
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <label for="validationStart" class="form-label">Время начала работы</label>
                                            <input class="form-control" type='time' id="validationStart"
                                                placeholder="Введите время" name="StartName" required >
                                            <div class="invalid-feedback">
                                                Введите время, пожалуйста
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <label for="validationEnd" class="form-label">Время окончания работы</label>
                                            <input class="form-control" type='time' id="validationEnd"
                                                placeholder="Введите время" name="EndName" required >
                                            <div class="invalid-feedback">
                                                Введите время, пожалуйста
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <label for="validationCol" class="form-label">Время окончания работы</label>
                                            <input class="form-control" type='number' id="validationCol"
                                                placeholder="Кол-во людей" name="ColName" required >
                                            <div class="invalid-feedback">
                                                Введите кол-во, пожалуйста
                                            </div>
                                        </div>

                                        <div class="mb-2">
                                            <button class="btn btn-lg btn-block text-white " style="background: #1EA59A;" type="submit">Отправить форму</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
            
        {% else %}
            Не найдено
        {% endif %}
        </div>
    </div>
</section>   
{% block script %}<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
</script>
{% endblock %}
{% endblock %}